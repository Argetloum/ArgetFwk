function ArgetFwkUtilsLib(){var e=0;var t=$("#last-tr").attr("data-max-result");var n=t;var r="";var i="";var s="";var o="";var u="";this.trim=function(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")};this.getBytesWithUnit=function(e){if(isNaN(e)){return}var t=[" o"," ko"," mo"," go"," to"," po"," eo"," zo"," yo"];var n=Math.floor(Math.log(+e)/Math.log(2));if(n<1){n=0}var r=Math.floor(n/10);e=+e/Math.pow(2,10*r);if(e.toString().length>e.toFixed(3).toString().length){e=e.toFixed(2)}return e+t[r]};this.modifyInfoInactiv=function(){$(".value").each(function(){if($(this).attr("data-modify-type")!=="password"){if($(this).children("input")){var e=$(this).parent("div");e.attr("class","modif-container");var t=$(this).attr("data-val");$(this).html(t)}}else{if($(this).children("input")){var e=$(this).parent("div");e.attr("class","modif-container");$(this).html("********")}}})};this.inputsActive=function(e){if(e.attr("data-method")!=="id"){e.attr("data-edit","true");var t=this.trim(e.html());var n=e.width();var r=n-25;var i=e.height();var s=i-2;var o=' style="line-height: '+s+"px; height: "+s+"px; width: "+r+'px;"';e.html('<input type="text" value="'+t+'" id="modifyInput" '+o+' data-value="'+t+'" /> <i class="icon-ok hand modifySave" id="iconValidation"></i>');e.css("width",n+"px");e.css("background","#fff");e.children("input").select();this.messageBox("#messageBox","Mode édition actif.")}};this.modifInfoValidation=function(e){if(e.attr("id")==="modif-input"){var t=e.val();var n=e.parent(".value").attr("data-modify-type");var r=$("#id-user").val();var i=$("#class-user").val();var s=new AjaxLib;s.setController("table");s.setMethod("modifyLine");s.setDataString("&class="+i+"&idProduct="+r+"&newMethod="+n+"&newValue="+t);returnValue=s.execute();if(returnValue==="done."){e.parent(".value").attr("data-val",e.val());this.modifyInfoInactiv();this.messageBox("#messageBox","Votre modification a été prise en compte.")}else{this.messageBox("#messageBox","Problème lors de la mise à jour ...",2e3)}}};this.inputsValidation=function(e){if(e.attr("id")==="modifyInput"){var t=e.val();var n=e.parent(".modify-item").attr("data-method");var r=e.parent(".modify-item").attr("data-id");var i=e.parent(".modify-item").attr("data-class");var s=new AjaxLib;s.setController("table");s.setMethod("modifyLine");s.setDataString("&class="+i+"&idProduct="+r+"&newMethod="+n+"&newValue="+t);returnValue=s.execute();if(returnValue==="done."){e.attr("data-value",e.val());this.inputsUnselect();this.messageBox("#messageBox","Votre modification a été prise en compte.")}else{this.messageBox("#messageBox","Problème lors de la mise à jour ...",2e3)}}};this.inputsUnselect=function(){$(".modify-item").each(function(){if($(this).attr("data-edit")==="true"){var e=$(this).children("input").attr("data-value");$(this).attr("data-edit","false");$(this).attr("style","");$(this).html(e)}})};this.waitToPlayJs=function(e,t,n,r){if(e()){t();return}if(!n)n=100;var i;var s=setInterval(function(){if(!e())return;clearInterval(s);if(i)clearTimeout(i);t()},n);if(r)i=setTimeout(function(){clearInterval(s)},r)};this.waitDelayAndPlayJs=function(e,t){setTimeout(function(){e()},t)};this.messageBox=function(e,t,n){if(!n)n=10;$(e).children(".contentBox").html(t);$(e).fadeIn("fast");this.waitDelayAndPlayJs(function(){$(e).fadeOut("normal")},n)};this.refreshContent=function(a,f){if(f["csv"]){var l="true";var c=f["ids"]}else{var l="false";var c=""}var h=0;var p=$("#dynamic-table").attr("name");var d=$("#columns").attr("name");if(a.attr("id")==="sort"){r=a.attr("type");i=a.attr("name");if(a.attr("data-property"))u=a.attr("data-property");else u=""}else if(a.attr("id")==="pagination-button"){e++;if(r===""){r=$("#last-tr").attr("data-order-by");i=$("#last-tr").attr("data-order-dir")}var v=e;v++;n=t*v;$("#dynamic-table").attr("data-nbrsaved",n);h=1}else if(a.attr("id")==="search"){s=$(".search-query").val();o=$(".search-query").attr("title")}else if(a.attr("id")==="effacer"){e=0;t=$("#last-tr").attr("data-max-result");n=t;$("#dynamic-table").attr("data-nbrsaved",t);$(".search-query").val("");h=0;s="";u="";r=$("#last-tr").attr("data-order-by");i=$("#last-tr").attr("data-order-dir");$(".sortSelect").each(function(){$(this).val("")})}var m="";$(".sortSelect").each(function(){m+="class=="+$(this).attr("data-class")+"__method=="+$(this).attr("data-method")+"__value=="+$(this).val()+"||"});var g=new AjaxLib;g.setController("table");g.setMethod("refreshBody");g.setDataString("&class="+p+"&sort="+r+"&order="+i+"&columns="+d+"&pagination="+e+"&search="+s+"&maxResult="+t+"&nbrSaved="+n+"&sendPagination="+h+"&methods="+o+"&actionButtons="+$("#actionButton").val()+"&nbrExisting="+$("#total-top").html()+"&data_property="+u+"&paramCsv="+l+"&paramIds="+c+"&selectsVals="+m);if(!f["csv"]){g.setDataType("xml");g.setAsyncValue(true);if(a.attr("id")==="pagination-button")g.executePagination();else g.executeTable()}else{g.setAsyncValue(false);var y=g.execute();window.open(f["href"]+y)}};this.checkChecked=function(){var e=0;$("td.checkItemTd input").each(function(){if($(this).attr("checked")==="checked"){$(this).parent("span").parent("div").parent("td").parent("tr").attr("class","checkedTr");e++}else{$(this).parent("span").parent("div").parent("td").parent("tr").attr("class","")}});if(e>0){$("#linkDelete").show();if($("#exportCsvRefresh")){$("#exportCsvRefresh").show()}}else{$("#linkDelete").hide();if($("#exportCsvRefresh")){$("#exportCsvRefresh").hide()}var t=$("#checkAll").removeAttr("checked");$.uniform.update(t)}};this.checkPagination=function(){var e=parseInt($("#dynamic-table").attr("data-nbrsaved"));if(parseInt($("#total-top").html())<e){$("#pagination-button").hide()}else{$("#pagination-button").show()}$("input[type=checkbox],input[type=radio],input[type=file]").uniform();this.checkChecked()};this.checkInputs=function(e,t,n,r,i,s,o){if(r!==""&&i!==""&&s!==""){var u=new AjaxLib;u.setController("table");u.setMethod("sendToRepository");u.setDataString("&repository="+i+"&methodRepo="+s);u.setAsyncValue(false);var a=u.execute();if(a!=="ok")return false;else return true}else if(n!==""){switch(n){case"email":var f=new RegExp("^[a-z0-9]+([_|.|-]{1}[a-z0-9]+)*@[a-z0-9]+([_|.|-]{1}[a-z0-9]+)*[.]{1}[a-z]{2,6}$","i");if(f.test(e.val()))return true;else return false;break;case"name":var f=new RegExp("^[a-zA-Z0-9àâäçèéêëìíîïòóôùúûü- ]{2,}$","i");if(f.test(e.val()))return true;else return false;break;case"tel":var f=new RegExp("^0[0-9]{9,9}$","i");if(f.test(e.val()))return true;else return false;break;case"title":var f=new RegExp("^[a-zA-Z0-9àâäçèéêëìíîïòóôùúûü& '-]{2,}$","i");if(f.test(e.val()))return true;else return false;break;case"password":var f=new RegExp("^[a-zA-Z0-9àâäçèéêëìíîïòóôùúûü&@-]{5,15}$","i");if(f.test(e.val()))return true;else return false;break}}else if(t!==""){var f=new RegExp(t,"i");if(f.test(e.val()))return true;else return false}else{if(o==="")o="1,";var f=new RegExp("^[a-zA-Z0-9àâäçèéêëìíîïòóôùúûü_ '.!-?:\" ]{"+o+"}$","i");if(f.test(e.val()))return true;else return false}};this.refreshReponses=function(e){var t=new AjaxLib;t.setController("dashboard");t.setMethod("refreshReponses");t.setAsyncValue(false);t.setDataString("&idTicket="+e);var n=t.execute();$("#listing-rep").html(n)};this.nl2br=function(e){var t="<br/>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+t+"$2")};this.br2nl=function(e){return e.replace(/<br>|<br\/>|<br \/>/g,"\r")};this.trim=function(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")}}